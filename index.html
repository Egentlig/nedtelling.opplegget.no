<!DOCTYPE html>
<html lang="nb">
<head>
    <style>
        body {
            margin: 0;
            padding: 0;

            font-family: Arial, sans-serif;
        }

        h1 {
            font-size: 22vw; /* Adjust size based on viewport width */
            text-align: center;
            white-space: nowrap; /* Prevents text from breaking */
        }
    </style>
    <title>Nedtelling</title>
</head>
<body>

<h1 id="timer"></h1>

<script type="application/javascript">
    document.addEventListener("DOMContentLoaded", () => {
        const urlParams = new URLSearchParams(window.location.search);
        const startTimestamp = urlParams.get("start");
        const timerMinutes = parseInt(urlParams.get("minutes"), 10); // Convert to integer

        const timerText = document.querySelector("#timer");

        if (!startTimestamp || isNaN(timerMinutes)) {
            timerText.innerText = "Invalid start time or duration!";
        } else {
            setInterval(() => {
                const start = new Date(startTimestamp).getTime();
                const now = new Date().getTime();
                const end = start + timerMinutes * 60 * 1000;

                if (now > end) {
                    timerText.innerText = "00:00:00"; // Countdown ended
                    return;
                }

                // Calculate remaining time
                let delta = Math.abs(end - now) / 1000;
                let hours = Math.floor(delta / 3600) % 24;
                delta -= hours * 3600;
                let minutes = Math.floor(delta / 60) % 60;
                delta -= minutes * 60;
                let seconds = Math.floor(delta % 60);

                // Update timer display
                timerText.innerText = `${String(hours).padStart(2, "0")}:${String(minutes).padStart(2, "0")}:${String(seconds).padStart(2, "0")}`;
            }, 1000);
        }
    });
</script>
</body>
</html>
